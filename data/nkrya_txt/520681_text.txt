 В. В. Бондаренко, А. Л. Куляница, Г. П. Чекинов.
 Работа выполнена при финансовой поддержке РФФИ, грант 01 - 01 - 00537.
 Изложены методологические и методические основы оценивания ситуации при применении методов ситуационного управления в интеллектуальных компьютерных системах.
 Дано описание отечественной разработки макетного образца подобной системы.
 Оценивание сложившейся ситуации является исходным этапом подготовки и выработки управленческих решений и представляет собой процесс выявления факторов и условий, определяющих степень соответствия целям управления сложившихся состояний элементов и ресурсов управляемой сложной системы, а также установившихся отношений между этими элементами и ресурсами.
 От полноты и достоверности оценки ситуации существенным образом зависит точность прогноза её развития и обоснованность принимаемых решений.
 Повышение полноты и достоверности оценивания ситуаций достигается применением комплексного многоаспектного анализа поступающих в органы управления разнородных данных о состоянии и деятельности сложных организационных и социально-технических систем.
 Результаты проведённого анализа [ 1 ] показывают, что обычно процесс оценивания ситуаций реализуется должностными лицами органов управления в виде согласованной по информации совокупности последовательно решаемых следующих экспертно-аналитических задач:
 формирование выводов о степени соответствия сложившейся ситуации поставленной цели управления;
 подготовка наиболее " важной " информации для прогнозирования развития ситуации и выработки решений на выполнение действий по достижению цели управления.
 Для решения первой задачи осуществляется разбиение общей задачи оценивания ситуации на систему иерархически соподчинённых задач оценивания.
 В результате решения задачи формируется вывод о степени соответствия ситуации цели управления.
 На втором этапе на основе зависимостей, используемых для формирования выводов о ситуации, устанавливается обратное соответствие между сделанными выводами и подмножеством полученных от источников исходных данных о сложившейся ситуации.
 Данные, составляющие это подмножество, представляют собой " важную " информацию для прогноза изменения сложившейся ситуации и о возможных действиях по целенаправленному изменению состояний элементов и протекающих в сложной системе процессов.
 Рассматривая представление исходной экспертной информации как " набор показателей ситуации - вывод о ситуации " в качестве основного вида представления, в рамках обосновываемого способа для выявления закономерностей процесса формирования выводов о ситуации предлагается использовать методы индуктивного обобщения качественной информации [ 2 ].
 Для представления знаний о процессе формирования выводов о ситуации предлагается использовать формальную модель, включающую три взаимосвязанных компонента:
 библиотеку понятий;
 функционально-семантическую сеть;
 предикатные правила и присоединяемые вычислительные процедуры, выполняемые над функционально-семантической сетью.
 Библиотека понятий содержит описание показателей ситуации и выводов о ней, вырабатываемых каждой подзадачей и задачей в целом.
 Эти описания включают два уровня: интенсиональный ( обобщённый) и экстенсиональный ( интерпретационный).
 На первом уровне вводятся обозначения спецификаций и классов выводов ( атрибутов); на втором уровне указываются домены - перечни возможных значений показателей и выводов ( атрибутов).
 Функционально-семантическая сеть ( S) формально задаётся следующим образом:
 S =( I, H, T),
 где I - множество имён функций ( подзадач); H - множество протофреймов ( пустых информационных структур) подзадач, составляющее экстенсиональный уровень сети; T - отображение множества Н в I.
 Описание предикатных правил и вычислительных процедур, выполняемых над функциональной семантической сетью, имеет также два уровня: интенсиональный и экстенсиональный.
 Интенсиональный уровень составляет P-множество предикатных правил и вычислительных процедур, обеспечивающих вычисление результата решения подзадач и задачи в целом.
 Экстенсиональный уровень составляет Ф - множество фактов типа " набор показателей → вывод о ситуации ".
 Описание каждого такого факта представляет собой фрейм - экземпляр, полученный путём заполнения протофрейма подзадачи значениями соответствующих атрибутов.
 Структура F целостного описания предикатных правил P ( PI) задаётся следующим образом:
 F =( P, Ф, U),
 где U - процедуры индуктивного вывода, устанавливающие отображение множества Ф в множество P.
 В простейшем случае, когда имеется взаимнооднозначное соответствие между элементами интенсионального и экстенсионального уровней, функционально-семантическая сеть и библиотека понятий могут быть представлены в виде таблицы " данные - подзадачи ":
 MDZ ( i, NZ), где i - номер ( код) показателя ситуации;
 NZ - номер ( код) подзадачи и соответствующий ему класс выводов.
 Для описания обобщённого и интерпретационного уровней функционально-семантической сети в таблице MDZ выделим две подтаблицы:
 1.
 MDZ ( i, NZ), i = 1, l; NZ = I, KZ.
 2.
 MDZ ( k, NZ), k =( I + l),( l + KZ); NZ = I, KZ.
 В элементах таблицы MDZ размещаются параметры, формально описывающие элементы библиотеки понятий.
 С этой целью элементы 1-й подтаблицы MDZ определим следующим образом:
 MDZ ( i, NZ)= z если i-й показатель используется для решения NZ-й подзадачи; 0 - в противном случае.
 Содержание элементов 2-й подтаблицы MDZ:
 MDZ ( k, NZ)= z если решения (k-1)-й подзадачи используются для решения NZ-й задачи, k =( l + 1),...,( l + KZ); 0 - в противном случае.
 Библиотека понятий и функционально-семантическая сеть опосредованно составляют описание цели решения задачи оценивания ситуации.
 Поэтому в дальнейшем таблицу MDZ условно будем называть " Базой целей задачи ".
 При использовании только предикатных правил, выполняемых над функционально-семантической сетью, для формального представления F предлагаемой формальной системы достаточно использовать две многомерные таблицы: ME и MT. В дальнейшем таблицы ME и MT условно будем называть " базой фактов " и " базой правил " соответственно.
 Таблица ME формально отражает экстенсиональный уровень описания Ф структуры F.
 При этом элемент таблицы ME ( NZ, NJT, j, i) содержит значение показателя ситуации, где NZ - номер подзадачи; NJT - номер решения подзадачи NZ; j - номер факта ( ситуации); i - номер показателя.
 Элементы таблицы ME обрабатываются средствами индуктивного вывода для получения предикатных правил.
 Интенсиональный уровень P описания структуры F формальной системы задаётся таблицей правил MT ( NZ, NJT, j, i).
 Структура таблицы MT аналогична структуре таблицы ME.
 Процесс формирования фрагментов базы знаний частной задачи ( узла семантической сети) вывода о ситуации осуществляется средствами приобретения знаний одинаково как для каждой подзадачи, так и для задачи в целом в рамках единого итерационного процесса создания БЗ.
 Это позволяет в дальнейшем рассматривать приобретение знаний без конкретной привязки к подзадачам или задаче в целом.
 Язык экспертов для представления знаний о зависимости между выводами по каждой ситуации и возможными наборами показателей, характеризующих соответствующие ситуации, должен иметь два подмножества ( диалекта):
 подмножество языка, позволяющее эксперту представлять знания в виде прецедентных пар " набор показателей → класс вывод о ситуации ";
 подмножество языка, позволяющее эксперту непосредственно указывать логические правила выработки решения задачи оценивания ситуации.
 Формирование правил базы знаний для первого подмножества языка представления знаний экспертов осуществляется в следующей последовательности.
 1.
 Формирование экспертами для каждого возможного решения задачи NZ экспертной таблицы ME ( NZ, NJT,...), содержащей соответствующие ему наборы показателей ситуации.
 Каждая таблица содержит только те её строки, которые соответствуют одному решению.
 2.
 Автоматическое формирование для каждого решения R на основе таблиц <ME( NZ, NJT,...)>,NJT= 1, L обучающих таблиц D ( l) путём присоединения справа к указанным таблицам ME колонок I ( i).
 Элементы колонок принимают значение " 0 " при <formula> и значение " 1 " при <formula>.
 3.
 Автоматическое формирование предикатных правил с использованием алгоритма индуктивного вывода и размещение их в таблицах <MT>.
 Алгоритм индуктивного вывода выполняет формирование непротиворечивых правил путём последовательной обработки обучающих таблиц.
 Алгоритм индуктивного формирования правил основан на циклическом применении метода дихотомии - разбиения обучающей таблицы D ( l) на две подтаблицы и т. д., в соответствии со значением одного или группы показателей, имеющих наибольшую " классифицирующую силу ".
 В качестве меры " классифицирующей силы " значений отдельных или групп показателей используются следующие эвристические критерии:
 K 0 - конъюнктивный критерий выбора комбинации значений показателей, обеспечивающей деление D ( l) на две части так, что в одной из них содержатся ситуации, помеченные только признаком " 1 " или только признаком " 0 ".
 Kv - лексикографический критерий выбора комбинации значений показателей, обеспечивающей деление D ( l) на две части так, что в одной из них содержатся ситуации, помеченные преимущественно признаком " 1 " или только признаком " 0 ":
 где K 1 - частота появления значений показателей в наборах, помеченных признаком " 1 "; K 2 - частота появления значений показателей в наборах, помеченных признаком " 0 "; N - количество показателей ситуации, оцениваемых в задаче NZ; q - количество прецедентных ситуаций, подготовленных экспертами.
 Циклическое разбиение таблицы ( подтаблицы) на две части осуществляется путём последовательного применения процедур, реализующих критерии K 0 и K v.
 Процедура K 0.
 Эта процедура выполняется при каждом цикле работы индуктивного алгоритма и сводится к выполнению следующих шагов.
 Шаг 1.
 Выбор в качестве первой проверочной гипотезы множества всех значений показателей для первой ситуации из D ( l) с признаком " 1 ".
 Шаг 2.
 Сравнение выделенного на шаге 1 набора со следующим набором, отмеченным признаком " 1 ", и определение фрагмента, равного пересечению этих двух наборов.
 Шаг повторяется для полученного фрагмента и очередного набора спецификаций, помеченного признаком " 1 ", до полного просмотра всех таких наборов.
 Если после просмотра всех помеченных " 1 " описаний их общая часть не пуста, то осуществляется переход к шагу 3.
 Иначе данная процедура завершается без результата: переход к применению критерия K v.
 Шаг 3.
 Сравнение полученной общей части ( фрагмента) наборов, помеченных признаком " 1 ", с описаниями ситуаций, помеченных признаком " 0 ".
 Если хотя бы в одном из наборов, помеченных признаком " 0 ", содержатся все элементы фрагмента, сформированного на шаге 2, то гипотеза о конъюнктивном характере связи между значениями спецификаций неверна и данная процедура неприменима.
 Переход к применению процедуры, реализующей K v.
 Процедура K v. Эта процедура сводится к последовательному выполнению следующих шагов.
 Шаг 1.
 Вычисление для каждого встречающегося в таблице ( подтаблице таблицы D ( l)) значения каждого показателя значения частных критериев K 1 и K 2.
 Шаг 2.
 Выбор в D ( l) значения <formula> одного из показателей наборов D ( l) в качестве разделяющего классифицирующего признака путём решения задачи:
 Шаг 3.
 Разделение таблицы D ( l) на две части путём проверки наличия или отсутствия признака в описаниях ситуаций ( наборах показателей).
 В результате выполнения приведённых процедур на каждом цикле разделения таблицы D ( l) на две части получаемые разделяющие признаки представляют собой предикаты, которыми заполняются строки таблицы MT ( NZ, I, j, i), i = 1,( N + 2).
 За конечное число циклов алгоритм индуктивного вывода обеспечивает формирование предикатного правила P 1.
 Сформированные с помощью алгоритма индуктивного вывода описания классов правил
 Формирование правил базы знаний для второго подмножества языка представления знаний экспертов осуществляется в следующей последовательности.
 1.
 Формирование экспертами для отдельных ( всех) решений задачи предикатных правил, где <formula>- название показателя ситуации;<formula>- понятие, число или числовой интервал, представляющий собой j - e значение показателя <formula>.
 2.
 Автоматический перевод правил <formula>, представленных в виде символьных строк, в табличную форму MT ( NZ, I, j, i).
 3.
 Автоматическое формирование для каждого экспертного правила <formula>, а также для каждого правила <formula>, если оно есть в базе знаний задачи, множества наборов показателей, на котором это правило принимает значение " истина ".
 Определение множества " конфликтных " прецедентных ситуаций <formula> для <formula>, или <formula>- экстенсионал правил <formula>
 Под " конфликтными ситуациями " понимаются такие, при описании которых применение эмпирических правил приводит к выработке различных решений задачи.
 Размещение в таблицах " неконфликтных " наборов показателей A таких, что
 4.
 Выдача эксперту - аналитику " конфликтных " наборов описаний ситуаций в табличной форме ( см. таблицу) для проведения анализа.
 Таблица:
 Макет таблицы для представления эксперту " конфликтных " наборов описаний ситуаций
 В результате анализа содержания таблицы в последней графе для каждой ситуации должен оставаться только один признак " 1 ", указывающий единственный вырабатываемый в этой ситуации вывод.
 5.
 Автоматическое размещение в таблицах ME описаний ситуаций из таблицы " конфликтных " наборов ситуаций.
 Переход к выполнению методики формирования правил БЗ.
 Для формирования выводов о ситуации необходимо обеспечить:
 1) формирование вывода в задаче оценивания подзадачи на основе полной и неполной информации;
 2) отбор из вектора значений показателей ситуации наиболее " важной " для принятия решения информации.
 Формирование вывода о ситуации при полном исходном описании ситуации осуществляется следующим образом.
 При наличии в исходных данных о ситуации значений всех показателей, используемых при решении задачи ( подзадачи), формирование вывода осуществляется методом последовательного определения значения истинности каждой элементарной конъюнкции каждого дизъюнктивного предикатного правила, описывающего условия выработки решений подзадачи и задачи оценивания ситуации в целом.
 Учитывая структуру и содержание таблиц MT ( NZ, I, j, i), алгоритм, реализующий такой метод, предусматривает выполнение следующих шагов.
 Шаг 1.
 l:= 1, где l - номер таблицы, выбираемой из базы правил.
 Шаг 2.
 i:= 1, где i - номер строки таблицы MT, анализируемой с целью определения истинности элементарной конъюнкции.
 Шаг 3.
 Анализ элемента MT ( NZ, 1, j, 1).
 Если MT ( NZ, 1, j, 1)= 1, то решение расчётной задачи ( подзадачи) завершено и соответствует коду 1.
 Если MT ( NZ, 1, j, 1)= 0, то переход к шагу 5.
 Шаг 4.
 Сравнение вектора описания с N первыми элементами i строки таблицы <formula>.
 Шаг 5.
 l:= l + 1.
 Если l L, то присвоить одной или нескольким входным показателям неопределённые значения и перейти к выполнению алгоритма логического вывода при неполном исходном описании ситуации, иначе переход к шагу 2.
 Формирование вывода о ситуации при неполном исходном описании осуществляется следующим алгоритмом.
 Шаг 1.
 Выбор из базы знаний таблиц MT ( NZ, 1, j, i), l = 1, L, содержащих экспертные данные о зависимости результатов её решений от различных описаний ситуации, и приведение их к сокращённому виду путём удаления из таблиц столбцов, соответствующих тем показателям, значения которых в исходном наборе отсутствуют ( имеют неопределённое значение).
 В результате этой операции в разных таблицах <formula> могут оказаться одинаковые строки.
 В этом случае осуществляется переход к шагу 2, иначе переход к шагу 3.
 Шаг 2.
 Формирование дополнительно к полученным таблицам <formula>, l = 1, L таблиц <formula>,k=( L + 1),...,( L + t).
 Каждая таблица <formula> соответствует " неопределённому ", образованному дополнительно к L имеющимся возможным решениям задачи ( подзадачи) решению.
 Под " неопределённым " понимается такое решение, которое соответствует не одному возможному значению решения задачи ( подзадачи), а некоторому набору значений.
 В этот набор входят те решения задачи ( подзадачи), для которых строки соответствующих им таблиц ME совпадают.
 Каждая таблица <formula> составляется из строк таблиц <formula>, которые соответствуют " неопределённому " решению Rk.
 Совпадение строки из таблиц <formula> исключается, что позволяет сформировать систему непересекающихся таблиц <formula>,f= 1,...,( L + t).
 Шаг 3.
 Автоматическое формирование на основе обработки таблиц ME ( NZ, f, j, i), f = 1,...,( L + t) с использованием алгоритма индуктивного вывода непротиворечивых предикатных правил, представленных в виде таблиц <formula>,f= 1,...,( L + t)( если неопределённые решения отсутствуют, то t = 0).
 Шаг 4.
 Выработка решения задачи ( подзадачи) за счёт применения правил <formula> к исходному неполному описанию текущей ситуации в соответствии с методикой формирования вывода при полной исходной информации.
 Отбор наиболее " важной " для оценивания информации осуществляется следующим образом.
 Результат решения <formula> каждой подзадачи определяется значениями тех показателей набора исходных данных о ситуации, которые обеспечили выработку решения " истина " одной из элементарных конъюнкций, входящих в соответствующее данному решению предикатное правило Pl.
 Значения таких показателей являются " существенными " с точки зрения получения результата решения подзадачи.
 Существенными " могут оказаться не только значения показателей, входящие в исходный набор данных, но и результаты решения подзадач.
 Поэтому при отборе наиболее " важной " информации с учётом полученного решения задачи необходимо выдавать пользователю значения " существенных " показателей для всей цепочки подзадач, которые обусловили формирование окончательного вывода о классе ситуации.
 Для выдачи должностному лицу всей " существенной " информации в процессе решения каждой подзадачи необходимо сформировать значения элементов следующих двух таблиц.
 I.
 Таблица хранения данных, оказавшихся " существенными " при решении каждой подзадачи
 МОВ ( I, J)|, I = 1, 2 KZ; J = 1,( J 4 + KZ),
 где KZ - количество подзадач задачи; J 4 - количество спецификаций, используемых в задаче оценки обстановки.
 Содержание элементов таблицы MOB определяется следующим образом:
 1) элемент MOB ( 2 NZ - 1, 1) содержит номер подзадачи, MOB ( 2 NZ - 1, 1)= NZ;
 2) элемент MOB ( 2 NZ - 1, 2) содержит результат решения подзадачи NZ;
 3) элементы MOB ( 2 NZ - 1, K), K = 3,( J 4 + KZ) равны нулю;
 4) если значение спецификации с номером l = 1,..., J 4, или результат решения подзадачи с номером LZ 1,..., KZ оказались " существенными " при выработке решения задачи NZ, то MOB ( 2 NZ, J), где J = I, либо J = J 4 + LZ, содержит либо значение 1-й спецификации, либо результат решения подзадачи LZ соответственно; иначе MOB ( 2 NZ, J)= 0.
 II.
 Таблица идентификации " существенной " зависимости между решениями подзадач задачи | LP ( NZ, LZ)|, где LZ, NZ = 1,..., KZ.
 Содержание элементов таблицы LP определяется следующим образом.
 Если результат решения подзадачи LZ оказался " существенным " при выработке решения подзадачи NZ, то LP ( NZ, LZ)= 1, иначе LP ( NZ, LZ)= 0, где NZ, LZ - 1, KZ.
 Таблицы MOB и LP формируются построчно после решения каждой подзадачи задачи.
 Для идентификации всех цепочек подзадач, результаты которых оказались " существенными " при выработке решения каждой подзадачи и задачи в целом, после завершения выполнения задачи формируется таблица | P ( NZ, LZ)|, NZ, LZ = 1, KZ, P = LP + LP ( 2)+...
 LP ( n), где n - наибольший показатель степени таблицы LP, который определяется из условия LP ( n)= 0.
 Элементы таблицы P определяются следующим образом: если результат решения подзадачи LZ непосредственно используется при решении подзадачи NZ и является " существенным ", либо между подзадачами LZ и NZ в ходе решения задачи образована цепочка подзадач, в которой результат каждой предыдущей подзадачи является " существенным " при решении последующей подзадачи, то LP ( NZ, LZ)≠ 0, иначе LP ( NZ, LZ)= 0.
 Таблица P как для задачи оценки в целом, так и для любой её подзадачи позволяет отобрать в таблице MOB те её строки, в которых содержатся только " существенные " значения обобщённых показателей и результаты решения подзадач.
 Объединение " существенных " для каждой подзадачи показателей обстановки составляет наиболее " ценную " для оценивания информацию.
 Представленный механизм оценивания ситуаций подробно описан в [ 1 ] и реализован в одном из агентов разработанной авторами мультиагентной гибридной интеллектуальной системы поддержки принятия решений - интеллектуальной системе поддержки процесса оценивания ситуаций.
